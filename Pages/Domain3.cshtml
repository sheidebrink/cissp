@page
@model Domain3Model
@{
    ViewData["Title"] = "Domain 3 - Security Architecture and Engineering";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-12">
            <!-- Domain Switcher -->
            <div class="domain-switcher mb-3">
                <div class="btn-group" role="group">
                    <a href="/Domain1" class="btn btn-outline-primary btn-sm">D1</a>
                    <a href="/Domain2" class="btn btn-outline-primary btn-sm">D2</a>
                    <a href="/Domain3" class="btn btn-primary btn-sm">D3</a>
                    <a href="/Domain4" class="btn btn-outline-primary btn-sm">D4</a>
                    <a href="/Domain5" class="btn btn-outline-primary btn-sm">D5</a>
                    <a href="/Domain6" class="btn btn-outline-primary btn-sm">D6</a>
                    <a href="/Domain7" class="btn btn-outline-primary btn-sm">D7</a>
                    <a href="/Domain8" class="btn btn-outline-primary btn-sm">D8</a>
                </div>
            </div>
            
            <h1>Domain 3: Security Architecture and Engineering</h1>
            <p class="lead">Security models, design principles, and secure system architecture.</p>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h5>Key Topics (15+ Areas)</h5>
                    <ul>
                        <li>Security models and frameworks (Bell-LaPadula, Biba, Clark-Wilson)</li>
                        <li>Security design principles (least privilege, defense in depth)</li>
                        <li>Secure system architecture and design patterns</li>
                        <li>Security capabilities of information systems</li>
                        <li>Vulnerabilities in security architectures</li>
                        <li>Cryptographic systems (symmetric, asymmetric, hashing)</li>
                        <li>Public Key Infrastructure (PKI) and certificate management</li>
                        <li>Security decomposition (trust boundaries, dataflow)</li>
                        <li>Physical security controls (deter, deny, detect, delay)</li>
                        <li>Hardware security modules (HSMs) and trusted computing</li>
                        <li>Secure coding practices and code review</li>
                        <li>Security testing methodologies</li>
                        <li>Virtualization and cloud security architecture</li>
                        <li>Mobile device security architecture</li>
                        <li>IoT and embedded systems security</li>
                        <li>Security reference architectures and frameworks</li>
                        <li>Threat modeling and attack surface analysis</li>
                        <li>Security patterns and anti-patterns</li>
                        <li>Secure communication protocols (TLS, IPSec)</li>
                        <li>Database security architecture</li>
                    </ul>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h5>Symmetric vs Asymmetric Cryptography</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card border-success">
                                <div class="card-header bg-success text-white">
                                    <h6 class="mb-0">üîê Symmetric Cryptography</h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Same key for encryption and decryption</strong></p>
                                    <p><strong>Advantages:</strong></p>
                                    <ul>
                                        <li>Fast encryption/decryption</li>
                                        <li>Low computational overhead</li>
                                        <li>Suitable for large data volumes</li>
                                    </ul>
                                    <p><strong>Disadvantages:</strong></p>
                                    <ul>
                                        <li>Key distribution problem</li>
                                        <li>Key management complexity</li>
                                        <li>No non-repudiation</li>
                                    </ul>
                                    <p><strong>Use Cases:</strong></p>
                                    <ul>
                                        <li>Bulk data encryption</li>
                                        <li>VPN tunnels</li>
                                        <li>Database encryption</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h6 class="mb-0">üîë Asymmetric Cryptography</h6>
                                </div>
                                <div class="card-body">
                                    <p><strong>Different keys for encryption and decryption</strong></p>
                                    <p><strong>Advantages:</strong></p>
                                    <ul>
                                        <li>Solves key distribution problem</li>
                                        <li>Provides non-repudiation</li>
                                        <li>Digital signatures possible</li>
                                    </ul>
                                    <p><strong>Disadvantages:</strong></p>
                                    <ul>
                                        <li>Slow encryption/decryption</li>
                                        <li>High computational overhead</li>
                                        <li>Not suitable for large data</li>
                                    </ul>
                                    <p><strong>Use Cases:</strong></p>
                                    <ul>
                                        <li>Key exchange</li>
                                        <li>Digital signatures</li>
                                        <li>Small message encryption</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h5>Block Ciphers and Algorithms</h5>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Algorithm</th>
                                    <th>Type</th>
                                    <th>Key Size</th>
                                    <th>Block Size</th>
                                    <th>Status</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>AES</strong></td>
                                    <td>Symmetric Block</td>
                                    <td>128, 192, 256 bits</td>
                                    <td>128 bits</td>
                                    <td>üü¢ Current Standard</td>
                                    <td>Rijndael algorithm, FIPS 197</td>
                                </tr>
                                <tr>
                                    <td><strong>DES</strong></td>
                                    <td>Symmetric Block</td>
                                    <td>56 bits (64 with parity)</td>
                                    <td>64 bits</td>
                                    <td>üî¥ Deprecated</td>
                                    <td>Too weak, easily broken</td>
                                </tr>
                                <tr>
                                    <td><strong>3DES</strong></td>
                                    <td>Symmetric Block</td>
                                    <td>112 or 168 bits</td>
                                    <td>64 bits</td>
                                    <td>üü° Legacy</td>
                                    <td>Triple DES, being phased out</td>
                                </tr>
                                <tr>
                                    <td><strong>Blowfish</strong></td>
                                    <td>Symmetric Block</td>
                                    <td>32-448 bits</td>
                                    <td>64 bits</td>
                                    <td>üü° Legacy</td>
                                    <td>Fast, variable key length</td>
                                </tr>
                                <tr>
                                    <td><strong>Twofish</strong></td>
                                    <td>Symmetric Block</td>
                                    <td>128, 192, 256 bits</td>
                                    <td>128 bits</td>
                                    <td>üü¢ Secure</td>
                                    <td>AES finalist, still secure</td>
                                </tr>
                                <tr>
                                    <td><strong>RSA</strong></td>
                                    <td>Asymmetric</td>
                                    <td>1024-4096 bits</td>
                                    <td>Variable</td>
                                    <td>üü¢ Current</td>
                                    <td>Most common public key algorithm</td>
                                </tr>
                                <tr>
                                    <td><strong>ECC</strong></td>
                                    <td>Asymmetric</td>
                                    <td>160-571 bits</td>
                                    <td>Variable</td>
                                    <td>üü¢ Current</td>
                                    <td>Smaller keys, same security as RSA</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h5>Block Cipher Modes of Operation</h5>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Mode</th>
                                    <th>Full Name</th>
                                    <th>Characteristics</th>
                                    <th>Pros</th>
                                    <th>Cons</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>ECB</strong></td>
                                    <td>Electronic Codebook</td>
                                    <td>Each block encrypted independently</td>
                                    <td>Simple, parallel processing</td>
                                    <td>Patterns visible, not secure</td>
                                </tr>
                                <tr>
                                    <td><strong>CBC</strong></td>
                                    <td>Cipher Block Chaining</td>
                                    <td>Each block XORed with previous</td>
                                    <td>Hides patterns, widely supported</td>
                                    <td>Sequential, error propagation</td>
                                </tr>
                                <tr>
                                    <td><strong>CFB</strong></td>
                                    <td>Cipher Feedback</td>
                                    <td>Stream cipher from block cipher</td>
                                    <td>Self-synchronizing</td>
                                    <td>Error propagation</td>
                                </tr>
                                <tr>
                                    <td><strong>OFB</strong></td>
                                    <td>Output Feedback</td>
                                    <td>Keystream generated independently</td>
                                    <td>No error propagation</td>
                                    <td>Not self-synchronizing</td>
                                </tr>
                                <tr>
                                    <td><strong>CTR</strong></td>
                                    <td>Counter</td>
                                    <td>Counter encrypted to create keystream</td>
                                    <td>Parallel, random access</td>
                                    <td>Counter must not repeat</td>
                                </tr>
                                <tr>
                                    <td><strong>GCM</strong></td>
                                    <td>Galois/Counter Mode</td>
                                    <td>CTR mode with authentication</td>
                                    <td>Encryption + authentication</td>
                                    <td>More complex implementation</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-body">
                    <h5>Key Management Concepts</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Key Lifecycle</h6>
                            <ol>
                                <li><strong>Generation:</strong> Create cryptographically strong keys</li>
                                <li><strong>Distribution:</strong> Securely deliver keys to users</li>
                                <li><strong>Storage:</strong> Protect keys at rest</li>
                                <li><strong>Usage:</strong> Control how keys are used</li>
                                <li><strong>Rotation:</strong> Replace keys periodically</li>
                                <li><strong>Revocation:</strong> Invalidate compromised keys</li>
                                <li><strong>Destruction:</strong> Securely delete old keys</li>
                            </ol>
                        </div>
                        <div class="col-md-6">
                            <h6>Key Strength Guidelines</h6>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Security Level</th>
                                            <th>Symmetric</th>
                                            <th>RSA</th>
                                            <th>ECC</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>80-bit</td>
                                            <td>80 bits</td>
                                            <td>1024 bits</td>
                                            <td>160 bits</td>
                                        </tr>
                                        <tr>
                                            <td>112-bit</td>
                                            <td>112 bits</td>
                                            <td>2048 bits</td>
                                            <td>224 bits</td>
                                        </tr>
                                        <tr>
                                            <td>128-bit</td>
                                            <td>128 bits</td>
                                            <td>3072 bits</td>
                                            <td>256 bits</td>
                                        </tr>
                                        <tr>
                                            <td>256-bit</td>
                                            <td>256 bits</td>
                                            <td>15360 bits</td>
                                            <td>512 bits</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Public-Private Key Cryptography -->
            <div class="card mt-4">
                <div class="card-header bg-warning text-dark">
                    <h5 class="mb-0">üîê Public-Private Key Cryptography</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <strong>Key Concept:</strong> Asymmetric cryptography uses a pair of mathematically related keys for secure communication.
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h6>How It Works</h6>
                            <div class="crypto-process mb-4">
                                <div class="step-box bg-light p-3 mb-3 border">
                                    <h6 class="text-primary">1. Key Generation</h6>
                                    <ul class="small">
                                        <li><strong>Alice generates</strong> a key pair</li>
                                        <li><strong>Public Key:</strong> Shared openly (like a mailbox)</li>
                                        <li><strong>Private Key:</strong> Kept secret (like the mailbox key)</li>
                                        <li><strong>Mathematical relationship:</strong> What one encrypts, only the other can decrypt</li>
                                    </ul>
                                </div>
                                
                                <div class="step-box bg-light p-3 mb-3 border">
                                    <h6 class="text-success">2. Encryption Process</h6>
                                    <ul class="small">
                                        <li><strong>Bob wants to send</strong> a secret message to Alice</li>
                                        <li><strong>Bob encrypts</strong> with Alice's public key</li>
                                        <li><strong>Only Alice's private key</strong> can decrypt it</li>
                                        <li><strong>Confidentiality achieved:</strong> Only Alice can read it</li>
                                    </ul>
                                </div>
                                
                                <div class="step-box bg-light p-3 mb-3 border">
                                    <h6 class="text-warning">3. Digital Signatures</h6>
                                    <ul class="small">
                                        <li><strong>Alice signs</strong> with her private key</li>
                                        <li><strong>Anyone can verify</strong> with Alice's public key</li>
                                        <li><strong>Proves authenticity:</strong> Message came from Alice</li>
                                        <li><strong>Non-repudiation:</strong> Alice can't deny sending it</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <h6>Visual Message Exchange</h6>
                            <div class="crypto-demo bg-light p-3 border">
                                <div class="message-flow">
                                    <div class="sender mb-3 p-2 bg-primary text-white text-center">
                                        üë® <strong>Bob (Sender)</strong><br>
                                        <small>Has Alice's public key</small>
                                    </div>
                                    
                                    <div class="arrow text-center mb-2">
                                        ‚¨áÔ∏è <strong>Encrypts message</strong>
                                    </div>
                                    
                                    <div class="encrypted-message mb-3 p-2 bg-secondary text-white text-center">
                                        üîí <strong>Encrypted Message</strong><br>
                                        <code class="small">X7$9mK#2pL@8nQ...</code><br>
                                        <small>Encrypted with Alice's public key</small>
                                    </div>
                                    
                                    <div class="arrow text-center mb-2">
                                        ‚¨áÔ∏è <strong>Sent over network</strong>
                                    </div>
                                    
                                    <div class="receiver mb-3 p-2 bg-success text-white text-center">
                                        üë© <strong>Alice (Receiver)</strong><br>
                                        <small>Uses her private key to decrypt</small>
                                    </div>
                                    
                                    <div class="arrow text-center mb-2">
                                        ‚¨áÔ∏è <strong>Decrypts message</strong>
                                    </div>
                                    
                                    <div class="plain-message p-2 bg-info text-white text-center">
                                        üìù <strong>Original Message</strong><br>
                                        <em>"Meet me at 3 PM"</em>
                                    </div>
                                </div>
                            </div>
                            
                            <h6 class="mt-4">Common Algorithms</h6>
                            <div class="algorithms">
                                <div class="algorithm-item mb-2">
                                    <strong>RSA:</strong> <span class="small">Most widely used, key sizes 1024-4096 bits</span>
                                </div>
                                <div class="algorithm-item mb-2">
                                    <strong>ECC (Elliptic Curve):</strong> <span class="small">Smaller keys, same security level</span>
                                </div>
                                <div class="algorithm-item mb-2">
                                    <strong>Diffie-Hellman:</strong> <span class="small">Key exchange protocol</span>
                                </div>
                                <div class="algorithm-item mb-2">
                                    <strong>DSA:</strong> <span class="small">Digital Signature Algorithm</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <h6>Key Management Principles</h6>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>Key Generation</strong>
                                <ul class="small">
                                    <li>Use cryptographically secure random numbers</li>
                                    <li>Sufficient key length for security level</li>
                                    <li>Proper entropy sources</li>
                                </ul>
                            </div>
                            <div class="col-md-4">
                                <strong>Key Distribution</strong>
                                <ul class="small">
                                    <li>Public keys can be shared openly</li>
                                    <li>Use certificates for authenticity</li>
                                    <li>Certificate Authorities (CAs) provide trust</li>
                                </ul>
                            </div>
                            <div class="col-md-4">
                                <strong>Key Protection</strong>
                                <ul class="small">
                                    <li>Private keys must remain secret</li>
                                    <li>Hardware Security Modules (HSMs)</li>
                                    <li>Regular key rotation policies</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <div class="alert alert-warning">
                            <strong>CISSP Exam Tips:</strong>
                            <ul class="small mb-0">
                                <li><strong>Confidentiality:</strong> Encrypt with recipient's public key</li>
                                <li><strong>Authentication:</strong> Sign with sender's private key</li>
                                <li><strong>Key sizes:</strong> RSA 2048+ bits, ECC 256+ bits for current security</li>
                                <li><strong>Performance:</strong> Asymmetric is slower than symmetric encryption</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Decomposition for Security Architecture -->
            <div class="card mt-4">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0">üîç Security Decomposition</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted mb-3">Decomposition breaks down complex systems into manageable security components for analysis.</p>
                    
                    <div class="alert alert-warning">
                        <strong>CISSP Exam Focus:</strong> The five key concepts of decomposition are essential for security architecture design.
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="decomp-item mb-3 p-3 border-start border-primary border-3">
                                <h6 class="text-primary">1. Trust Boundaries</h6>
                                <ul class="small">
                                    <li>Points where trust levels change between components</li>
                                    <li>Network perimeters, application boundaries</li>
                                    <li>Critical for identifying security controls placement</li>
                                </ul>
                            </div>
                            
                            <div class="decomp-item mb-3 p-3 border-start border-success border-3">
                                <h6 class="text-success">2. Dataflow Paths</h6>
                                <ul class="small">
                                    <li>How data moves through the system</li>
                                    <li>Input/output flows, processing paths</li>
                                    <li>Identifies where data protection is needed</li>
                                </ul>
                            </div>
                            
                            <div class="decomp-item mb-3 p-3 border-start border-warning border-3">
                                <h6 class="text-warning">3. Input Points</h6>
                                <ul class="small">
                                    <li>Where external data enters the system</li>
                                    <li>User interfaces, APIs, file uploads</li>
                                    <li>Primary attack vectors requiring validation</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="decomp-item mb-3 p-3 border-start border-danger border-3">
                                <h6 class="text-danger">4. Privileged Operations</h6>
                                <ul class="small">
                                    <li>Functions requiring elevated permissions</li>
                                    <li>Administrative tasks, system modifications</li>
                                    <li>High-risk operations needing extra protection</li>
                                </ul>
                            </div>
                            
                            <div class="decomp-item mb-3 p-3 border-start border-info border-3">
                                <h6 class="text-info">5. Security Stance and Approach</h6>
                                <ul class="small">
                                    <li>Overall security posture and philosophy</li>
                                    <li>Defense-in-depth strategies</li>
                                    <li>Risk tolerance and mitigation approaches</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <h6>What Decomposition is NOT:</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="alert alert-light border">
                                    <strong>‚ùå Not Decomposition:</strong>
                                    <ul class="small mb-0">
                                        <li>Patch or update version management</li>
                                        <li>Determining open vs. closed-source code use</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="alert alert-success">
                                    <strong>‚úÖ Decomposition Focus:</strong>
                                    <ul class="small mb-0">
                                        <li>System architecture analysis</li>
                                        <li>Security boundary identification</li>
                                        <li>Risk assessment preparation</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Physical Security Controls -->
            <div class="card mt-4">
                <div class="card-header bg-dark text-white">
                    <h5 class="mb-0">üè¢ Physical Security Controls</h5>
                </div>
                <div class="card-body">
                    <div class="alert alert-danger">
                        <strong>CISSP Exam Critical:</strong> The correct order is <strong>Deter, Deny, Detect, Delay, Determine, Decide</strong>
                    </div>
                    
                    <div class="physical-controls">
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-primary me-3 fs-6">1</span>
                                <div>
                                    <h6 class="mb-1">DETER</h6>
                                    <p class="small mb-0">Discourage potential attackers from attempting unauthorized access</p>
                                    <p class="small text-muted">Examples: Warning signs, visible cameras, security guards</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-danger me-3 fs-6">2</span>
                                <div>
                                    <h6 class="mb-1">DENY</h6>
                                    <p class="small mb-0">Prevent unauthorized access through physical barriers</p>
                                    <p class="small text-muted">Examples: Locked doors, fences, access control systems</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-warning me-3 fs-6">3</span>
                                <div>
                                    <h6 class="mb-1">DETECT</h6>
                                    <p class="small mb-0">Identify when unauthorized access attempts occur</p>
                                    <p class="small text-muted">Examples: Motion sensors, CCTV, intrusion detection systems</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-info me-3 fs-6">4</span>
                                <div>
                                    <h6 class="mb-1">DELAY</h6>
                                    <p class="small mb-0">Slow down attackers to allow response time</p>
                                    <p class="small text-muted">Examples: Multiple barriers, reinforced doors, security vestibules</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-success me-3 fs-6">5</span>
                                <div>
                                    <h6 class="mb-1">DETERMINE</h6>
                                    <p class="small mb-0">Assess the threat and gather information about the incident</p>
                                    <p class="small text-muted">Examples: Security assessment, threat analysis, evidence collection</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-step mb-3 p-3 bg-light border">
                            <div class="d-flex align-items-center">
                                <span class="badge bg-secondary me-3 fs-6">6</span>
                                <div>
                                    <h6 class="mb-1">DECIDE</h6>
                                    <p class="small mb-0">Choose appropriate response actions based on the assessment</p>
                                    <p class="small text-muted">Examples: Alert security, contact law enforcement, activate incident response</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <div class="alert alert-info">
                            <strong>Memory Aid:</strong> "<em>Don't Dare Disturb Dangerous Determined Defenders</em>" - Deter, Deny, Detect, Delay, Determine, Decide
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <a href="/Quiz?domain=Security Architecture and Engineering" class="btn btn-primary">Practice Domain Questions</a>
                <a href="/Quiz" class="btn btn-outline-primary">All Questions</a>
                <a href="/" class="btn btn-secondary">Back to Home</a>
            </div>
            
            <!-- Domain Navigation -->
            <div class="domain-navigation mt-5 pt-4 border-top">
                <div class="d-flex justify-content-between">
                    <a href="/Domain2" class="btn btn-outline-secondary">
                        <i class="fas fa-chevron-left"></i> Previous: Domain 2
                    </a>
                    <a href="/Domain4" class="btn btn-outline-secondary">
                        Next: Domain 4 <i class="fas fa-chevron-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>